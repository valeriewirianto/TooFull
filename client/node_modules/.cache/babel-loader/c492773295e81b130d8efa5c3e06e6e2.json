{"ast":null,"code":"var _jsxFileName = \"/Users/valeriewirianto/University Stuff/309/Group/team50/client/src/Login.js\";\nimport React from 'react';\nimport './CSS/Login.css';\nimport { Redirect } from 'react-router';\nimport { signupFetch } from './actions/auth';\nimport { login } from './actions/session';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Login extends React.Component {\n  render() {\n    const {\n      history,\n      app\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page\",\n      children: /*#__PURE__*/_jsxDEV(Panel, {\n        history: history,\n        app: app\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 13,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nclass Panel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hasAccount: true\n    };\n  }\n\n  renderForm() {\n    const {\n      history,\n      app\n    } = this.props;\n    return this.state.hasAccount ? /*#__PURE__*/_jsxDEV(LoginForm, {\n      history: history,\n      app: app,\n      handleClick: () => this.handleClick()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(SignUpForm, {\n      handleClick: () => this.handleClick()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 17\n    }, this);\n  }\n\n  handleClick() {\n    this.setState({\n      hasAccount: !this.state.hasAccount\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"panel\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Header\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loginForm\",\n        children: this.renderForm()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nclass LoginForm extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleLogin = app => {\n      login(this, app).then(res => {\n        console.log(res);\n\n        if (!res) {\n          alert(\"Invalid username and password\");\n        }\n      });\n    };\n\n    this.state = {\n      usernameInput: \"\",\n      passwordInput: \"\",\n      loggedIn: 0\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  render() {\n    const {\n      app\n    } = this.props;\n\n    if (this.state.loggedIn === 1) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/Main\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 20\n      }, this);\n    } else if (this.state.loggedIn === 2) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/MainAdmin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 20\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"usernameInput\",\n          className: \"input\",\n          value: this.state.usernameInput,\n          onChange: this.handleChange,\n          placeholder: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"passwordInput\",\n          className: \"input\",\n          value: this.state.passwordInput,\n          onChange: this.handleChange,\n          placeholder: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"submitButton\",\n          type: \"button\",\n          value: \"Log In\",\n          onClick: () => this.handleLogin(app)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"backLogIn\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(SignUpBar, {\n          handleClick: () => this.props.handleClick\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 45\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nclass SignUpBar extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"label\", {\n      children: [\" Don't have an account?\", /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"backLogInButtons\",\n        onClick: this.props.handleClick(),\n        children: \"Sign Up! \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nclass SignUpForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      usernameInput: \"\",\n      passwordInput: \"\",\n      confirmedpasswordInput: \"\",\n      validFormat: true,\n      validConfirmedPw: true\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    if (!this.validateAccount.call(this)) return false;\n    signupFetch(this, event.target).then(res => {\n      console.log(res);\n\n      if (res === \"taken\") {\n        alert(\"Username taken. Please choose a different one.\");\n      } else {\n        alert(\"Account created!\");\n      }\n    });\n  }\n\n  validateAccount() {\n    if (!this.validateInput(this.state.usernameInput, this.state.passwordInput)) {\n      this.setState({\n        validFormat: false\n      });\n    } else if (this.state.passwordInput !== this.state.confirmedpasswordInput) {\n      this.setState({\n        validConfirmedPw: false\n      });\n    } else {\n      this.setState({\n        validFormat: true,\n        validConfirmedPw: true\n      });\n      return true;\n    }\n\n    return false;\n  }\n\n  validateInput(username, pw) {\n    return /\\w{3,80}/.test(username) && /.{3,80}/.test(pw);\n  }\n\n  render() {\n    const formatPrompt = !this.state.validFormat ? /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \" Username can only contain letters, numbers, or underscore. Username and password must have at least 3 characters.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 15\n    }, this) : !this.state.validConfirmedPw ? /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \" Passwords do not match. \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 19\n    }, this) : null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"usernameInput\",\n          className: \"input\",\n          value: this.state.usernameInput,\n          onChange: this.handleChange,\n          placeholder: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"passwordInput\",\n          className: \"input\",\n          value: this.state.passwordInput,\n          onChange: this.handleChange,\n          placeholder: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"confirmedpasswordInput\",\n          className: \"input\",\n          value: this.state.confirmedpasswordInput,\n          onChange: this.handleChange,\n          placeholder: \"Confirm Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"submitButton\",\n          type: \"submit\",\n          value: \"Sign Up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\" \", formatPrompt, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"backLogIn\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(LogInBar, {\n          handleClick: () => this.props.handleClick()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 45\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nclass LogInBar extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"label\", {\n      children: [\" Already have an account?\", /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"backLogInButtons\",\n        onClick: this.props.handleClick,\n        children: \"Log In \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/valeriewirianto/University Stuff/309/Group/team50/client/src/Login.js"],"names":["React","Redirect","signupFetch","login","Login","Component","render","history","app","props","Panel","constructor","state","hasAccount","renderForm","handleClick","setState","LoginForm","handleLogin","then","res","console","log","alert","usernameInput","passwordInput","loggedIn","handleChange","bind","event","target","name","value","SignUpBar","SignUpForm","confirmedpasswordInput","validFormat","validConfirmedPw","handleSubmit","preventDefault","validateAccount","call","validateInput","username","pw","test","formatPrompt","LogInBar"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './CSS/Login.css';\nimport { Redirect } from 'react-router'\nimport { signupFetch } from './actions/auth';\nimport { login } from './actions/session'\n\nclass Login extends React.Component {\n\n    render(){\n        const { history, app } = this.props;\n        return(\n            <div className=\"page\">\n                <Panel history={history} app={app}/>\n            </div>\n        );\n    }\n}\n\nclass Panel extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            hasAccount: true,\n        };\n    }\n\n    renderForm(){\n        const { history, app } = this.props;\n        return(\n            this.state.hasAccount \n              ? <LoginForm history={history} app={app} handleClick={() => this.handleClick()} /> \n              : <SignUpForm handleClick={() => this.handleClick()} />\n        );\n    }\n\n    handleClick(){\n        this.setState({hasAccount: !this.state.hasAccount});\n    }\n\n    render(){\n        return(\n        <div className=\"panel\">\n            <div className=\"Header\"></div>\n            <div className=\"loginForm\">\n                    {this.renderForm()}\n            </div>\n        </div>\n        );\n    }\n}\n\nclass LoginForm extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            usernameInput: \"\",\n            passwordInput: \"\",\n            loggedIn: 0,\n        };\n\n        this.handleChange = this.handleChange.bind(this);\n    }\n    \n    handleChange(event){\n        this.setState({[event.target.name]: event.target.value});\n    }\n\n    handleLogin = (app) => {\n        login(this, app)\n        .then(res => {\n            console.log(res)\n            if(!res){\n                alert(\"Invalid username and password\")\n            }\n        })\n    }\n\n    render(){\n        const { app } = this.props\n        if(this.state.loggedIn === 1) {\n            return <Redirect to=\"/Main\" />\n        }else if(this.state.loggedIn === 2){\n            return <Redirect to=\"/MainAdmin\" />\n        }\n        return(\n            <div>\n                <form>\n                    <input type=\"text\" name=\"usernameInput\" className=\"input\" \n                    value={this.state.usernameInput} onChange={this.handleChange} \n                    placeholder=\"Username\" />\n                    <br/>\n\n                    <input type=\"password\" name=\"passwordInput\" className=\"input\" \n                    value={this.state.passwordInput} onChange={this.handleChange} \n                    placeholder=\"Password\" />\n                    <br/>\n\n                    <input className=\"submitButton\" type=\"button\" value=\"Log In\" onClick={() => this.handleLogin(app)}/>\n                </form>\n\n                <div className=\"backLogIn\"> <SignUpBar handleClick={() => this.props.handleClick}/> </div>\n            </div>\n        );\n    }\n}\n\nclass SignUpBar extends React.Component{\n    render(){\n        return(\n            <label> Don't have an account? \n                <button className=\"backLogInButtons\" onClick={this.props.handleClick()}> \n                Sign Up! </button>\n            </label>\n        );\n    }\n}\n\nclass SignUpForm extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            usernameInput: \"\",\n            passwordInput: \"\",\n            confirmedpasswordInput:\"\",\n            validFormat: true,\n            validConfirmedPw: true,\n        };\n\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n    handleChange(event){\n        this.setState({[event.target.name]: event.target.value});\n    }\n\n    handleSubmit(event){\n        event.preventDefault()\n        if(!this.validateAccount.call(this)) return false;\n        signupFetch(this, event.target).then(res => {\n            console.log(res)\n            if (res === \"taken\"){\n                alert(\"Username taken. Please choose a different one.\")\n            }\n            else{\n                alert(\"Account created!\")\n            }\n        })\n    }\n\n    validateAccount(){\n        if (!this.validateInput(this.state.usernameInput, this.state.passwordInput)){\n            this.setState({validFormat: false});\n        } else if (this.state.passwordInput !== this.state.confirmedpasswordInput){\n            this.setState({validConfirmedPw: false});\n        } else {\n            this.setState({validFormat: true, validConfirmedPw: true});\n            return true;\n        }\n        return false;\n    }\n\n    validateInput(username, pw){\n        return /\\w{3,80}/.test(username) && /.{3,80}/.test(pw);\n    }\n\n    render(){\n        const formatPrompt = !this.state.validFormat\n            ? <label> Username can only contain letters, numbers, or underscore.\n                    Username and password must have at least 3 characters.\n              </label> \n            : !this.state.validConfirmedPw\n                ? <label> Passwords do not match. </label> : null;\n\n        return(\n            <div>\n                <form onSubmit={this.handleSubmit}>\n                    <input type=\"text\" name=\"usernameInput\" className=\"input\" \n                    value={this.state.usernameInput} onChange={this.handleChange} \n                    placeholder=\"Username\" />\n                    <br/>\n\n                    <input type=\"password\" name=\"passwordInput\" className=\"input\" \n                    value={this.state.passwordInput} onChange={this.handleChange} \n                    placeholder=\"Password\" />\n                    <br/>\n\n                    <input type=\"password\" name=\"confirmedpasswordInput\" className=\"input\" \n                    value={this.state.confirmedpasswordInput} onChange={this.handleChange} \n                    placeholder=\"Confirm Password\" />\n                    <br/>\n\n                    <input className=\"submitButton\" type=\"submit\" value=\"Sign Up\"/>\n                </form>\n\n                <div> {formatPrompt} </div>\n\n                <div className=\"backLogIn\"> <LogInBar handleClick={() => this.props.handleClick()}/> </div>\n            </div>\n        );\n    }\n}\n\nclass LogInBar extends React.Component{\n    render(){\n        return(\n            <label> Already have an account? \n                <button className=\"backLogInButtons\" onClick={this.props.handleClick}> \n                Log In </button>\n            </label>\n        );\n    }\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}