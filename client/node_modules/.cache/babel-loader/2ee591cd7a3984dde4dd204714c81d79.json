{"ast":null,"code":"import ENV from'./../config.js';var API_HOST=ENV.api_host;// Get all list ids and names of currently logged in user\nexport var get_popular=function get_popular(app,category){console.log(app);var url=\"\".concat(API_HOST,\"/get_most_popular/\")+category;fetch(url).then(function(res){if(res.status===200){return res.json();}}).then(function(json){var labelArray=[];var dataArray=[];for(var key in json){labelArray.push(key);dataArray.push(json[key]);}if(category===\"dishes\"){app.setState({dish:{labels:labelArray,datasets:[{label:'Top 3 Popular Dishes',backgroundColor:'rgba(75,192,192,1)',borderColor:'rgba(0,0,0,1)',borderWidth:2,data:dataArray}]}});}else if(category===\"beverages\"){app.setState({dish:{labels:labelArray,datasets:[{label:'Top 3 Popular Dishes',backgroundColor:'rgba(75,192,192,1)',borderColor:'rgba(0,0,0,1)',borderWidth:2,data:dataArray}]}});}else if(category===\"ingredients\"){app.setState({ingredient:{labels:labelArray,datasets:[{label:'Top 3 Popular Dishes',backgroundColor:'rgba(75,192,192,1)',borderColor:'rgba(0,0,0,1)',borderWidth:2,data:dataArray}]}});}}).catch(function(error){console.log(error);});};","map":{"version":3,"sources":["/Users/valeriewirianto/University Stuff/309/Group/team50/client/src/actions/popular.js"],"names":["ENV","API_HOST","api_host","get_popular","app","category","console","log","url","fetch","then","res","status","json","labelArray","dataArray","key","push","setState","dish","labels","datasets","label","backgroundColor","borderColor","borderWidth","data","ingredient","catch","error"],"mappings":"AAAA,MAAOA,CAAAA,GAAP,KAAgB,gBAAhB,CACA,GAAMC,CAAAA,QAAQ,CAAGD,GAAG,CAACE,QAArB,CAEA;AACA,MAAO,IAAMC,CAAAA,WAAW,CAAE,QAAbA,CAAAA,WAAa,CAACC,GAAD,CAAMC,QAAN,CAAmB,CACzCC,OAAO,CAACC,GAAR,CAAYH,GAAZ,EACA,GAAMI,CAAAA,GAAG,CAAG,UAAGP,QAAH,uBAAkCI,QAA9C,CACAI,KAAK,CAACD,GAAD,CAAL,CACKE,IADL,CACU,SAAAC,GAAG,CAAI,CACT,GAAIA,GAAG,CAACC,MAAJ,GAAe,GAAnB,CAAwB,CACpB,MAAOD,CAAAA,GAAG,CAACE,IAAJ,EAAP,CACH,CACJ,CALL,EAMKH,IANL,CAMU,SAAAG,IAAI,CAAG,CACT,GAAIC,CAAAA,UAAU,CAAG,EAAjB,CACA,GAAIC,CAAAA,SAAS,CAAG,EAAhB,CAEA,IAAI,GAAIC,CAAAA,GAAR,GAAeH,CAAAA,IAAf,CAAoB,CAChBC,UAAU,CAACG,IAAX,CAAgBD,GAAhB,EACAD,SAAS,CAACE,IAAV,CAAeJ,IAAI,CAACG,GAAD,CAAnB,EACH,CACD,GAAGX,QAAQ,GAAK,QAAhB,CAAyB,CACrBD,GAAG,CAACc,QAAJ,CAAa,CACTC,IAAI,CAAC,CACDC,MAAM,CAAEN,UADP,CAEDO,QAAQ,CAAE,CACV,CACEC,KAAK,CAAE,sBADT,CAEEC,eAAe,CAAE,oBAFnB,CAGEC,WAAW,CAAE,eAHf,CAIEC,WAAW,CAAE,CAJf,CAKEC,IAAI,CAAEX,SALR,CADU,CAFT,CADI,CAAb,EAcH,CAfD,IAgBK,IAAGV,QAAQ,GAAK,WAAhB,CAA4B,CAC7BD,GAAG,CAACc,QAAJ,CAAa,CACTC,IAAI,CAAC,CACDC,MAAM,CAAEN,UADP,CAEDO,QAAQ,CAAE,CACV,CACEC,KAAK,CAAE,sBADT,CAEEC,eAAe,CAAE,oBAFnB,CAGEC,WAAW,CAAE,eAHf,CAIEC,WAAW,CAAE,CAJf,CAKEC,IAAI,CAAEX,SALR,CADU,CAFT,CADI,CAAb,EAcH,CAfI,IAgBA,IAAGV,QAAQ,GAAK,aAAhB,CAA8B,CAC/BD,GAAG,CAACc,QAAJ,CAAa,CACTS,UAAU,CAAC,CACPP,MAAM,CAAEN,UADD,CAEPO,QAAQ,CAAE,CACV,CACEC,KAAK,CAAE,sBADT,CAEEC,eAAe,CAAE,oBAFnB,CAGEC,WAAW,CAAE,eAHf,CAIEC,WAAW,CAAE,CAJf,CAKEC,IAAI,CAAEX,SALR,CADU,CAFH,CADF,CAAb,EAcH,CACJ,CA9DL,EA+DKa,KA/DL,CA+DW,SAAAC,KAAK,CAAI,CACZvB,OAAO,CAACC,GAAR,CAAYsB,KAAZ,EACH,CAjEL,EAkEH,CArEM","sourcesContent":["import ENV from './../config.js'\nconst API_HOST = ENV.api_host\n\n// Get all list ids and names of currently logged in user\nexport const get_popular= (app, category) => {\n    console.log(app)\n    const url = `${API_HOST}/get_most_popular/` + category;\n    fetch(url)\n        .then(res => {\n            if (res.status === 200) {\n                return res.json()\n            }\n        })\n        .then(json =>{\n            let labelArray = []\n            let dataArray = []\n\n            for(let key in json){ \n                labelArray.push(key)\n                dataArray.push(json[key])\n            }\n            if(category === \"dishes\"){\n                app.setState({ \n                    dish:{\n                        labels: labelArray,\n                        datasets: [\n                        {\n                          label: 'Top 3 Popular Dishes',\n                          backgroundColor: 'rgba(75,192,192,1)',\n                          borderColor: 'rgba(0,0,0,1)',\n                          borderWidth: 2,\n                          data: dataArray\n                        }\n                        ]\n                    }\n                })\n            }\n            else if(category === \"beverages\"){\n                app.setState({ \n                    dish:{\n                        labels: labelArray,\n                        datasets: [\n                        {\n                          label: 'Top 3 Popular Dishes',\n                          backgroundColor: 'rgba(75,192,192,1)',\n                          borderColor: 'rgba(0,0,0,1)',\n                          borderWidth: 2,\n                          data: dataArray\n                        }\n                        ]\n                    }\n                })\n            }\n            else if(category === \"ingredients\"){\n                app.setState({ \n                    ingredient:{\n                        labels: labelArray,\n                        datasets: [\n                        {\n                          label: 'Top 3 Popular Dishes',\n                          backgroundColor: 'rgba(75,192,192,1)',\n                          borderColor: 'rgba(0,0,0,1)',\n                          borderWidth: 2,\n                          data: dataArray\n                        }\n                        ]\n                    }\n                })\n            }\n        })\n        .catch(error => {\n            console.log(error);\n        });\n};"]},"metadata":{},"sourceType":"module"}