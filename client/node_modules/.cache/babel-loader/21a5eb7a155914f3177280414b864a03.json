{"ast":null,"code":"import _defineProperty from\"/Users/valeriewirianto/University Stuff/309/Group/team50/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/valeriewirianto/University Stuff/309/Group/team50/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/valeriewirianto/University Stuff/309/Group/team50/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/valeriewirianto/University Stuff/309/Group/team50/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/valeriewirianto/University Stuff/309/Group/team50/client/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/valeriewirianto/University Stuff/309/Group/team50/client/node_modules/@babel/runtime/helpers/esm/createSuper\";import\"./IndividualFriendsUserSetting.css\";import{uid}from'react-uid';// import {Link} from \"react-router-dom\";\nimport watermelon from'./Stickers/watermelon.png';import donut from'./Stickers/donut.png';import pie from'./Stickers/pie.png';import broccoli from'./Stickers/brocoli.png';import React from\"react\";import ReactHtmlParser from'react-html-parser';import{add_item,get_all_items}from\"./actions/myList\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var IndividualList=/*#__PURE__*/function(_React$Component){_inherits(IndividualList,_React$Component);var _super=_createSuper(IndividualList);function IndividualList(){var _this;_classCallCheck(this,IndividualList);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={ListName:\"Home Grown Ingredients\",Category:\"Ingredients\",ListDescription:\"My favourite ingredients that I grow in my garden\",FoodRank:[],seen:false,seen2:false,seen3:false,info:{},stickers:[{id:0,source:watermelon},{id:1,source:donut},{id:2,source:pie},{id:3,source:broccoli}],freeStickers:[],selectedImage:null};_this.removeFoodRank=function(Info){var filterFoodRank=_this.state.FoodRank.filter(function(check){return check!==Info;});filterFoodRank.map(function(R,index){return R.Rank=index+1;});_this.setState({FoodRank:filterFoodRank});};_this.deleteWholeList=function(){_this.setState({FoodRank:[]});};_this.OpenClose=function(){_this.setState({seen:!_this.state.seen});};_this.OpenClose2=function(){_this.setState({seen2:!_this.state.seen2});};_this.OpenClose3=function(){_this.setState({seen3:!_this.state.seen3});};_this.editItem=function(PopUpState){var foodName=PopUpState.FoodName;var notes=PopUpState.Notes;var rank=PopUpState.Rank;var filterFoodRank=_this.state.FoodRank.filter(function(check){return check.Rank!==rank;});var editedItem={Rank:rank,FoodName:foodName,Notes:notes};filterFoodRank.splice(rank-1,0,editedItem);filterFoodRank.map(function(R,index){return R.Rank=index+1;});_this.setState({FoodRank:filterFoodRank});_this.OpenClose2();};_this.addNewItem=function(PopUpState){console.log(PopUpState);var listId=_this.props.location.state.listId;add_item(_assertThisInitialized(_this),PopUpState),listId;var foodName=PopUpState.FoodName;var rank=PopUpState.Rank;if(rank<1){rank=1;}else if(rank>_this.state.FoodRank.length+1){rank=_this.state.FoodRank.length;}var note=PopUpState.Note;var newItem={Rank:rank,FoodName:foodName,Notes:note};var old=_this.state.FoodRank;old.splice(rank-1,0,newItem);old.map(function(R,index){return R.Rank=index+1;});_this.setState({FoodRank:old});_this.OpenClose();};_this.editDescription=function(description){_this.setState({ListDescription:description});_this.OpenClose3();};_this.changeEditingRank=function(Info){_this.setState({info:Info});_this.OpenClose2();};_this.click=function(event){var target=event.target;var type=target.type;var className=target.className;if(className==='freeSticker'){var targetID=target.id;_this.deleteFreeSticker(targetID);}if(type!=='button'&&_this.state.selectedImage!=null&&className!=='sticker'){var x=event.clientX;var y=event.clientY;var length=_this.state.freeStickers.length;var ID=0;if(length!==0){ID=_this.state.freeStickers[length-1].id+1;}var freeSticker={id:ID,location:[x,y],source:_this.state.selectedImage};var existingFreeStickers=_this.state.freeStickers;existingFreeStickers.push(freeSticker);_this.setState({freeStickers:existingFreeStickers,selectedImage:null});}};_this.selectImage=function(event){event.preventDefault();console.log(\"I am selecting a sticker\");var target=event.target;var source=target.src;console.log(source);_this.setState({selectedImage:source});};return _this;}_createClass(IndividualList,[{key:\"componentDidMount\",value:function componentDidMount(props){var listId=this.props.location.state.listId;get_all_items(this,listId);}},{key:\"ListDescription\",value:function ListDescription(){return/*#__PURE__*/_jsxs(\"div\",{id:\"ListDescription\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"List Description\"}),/*#__PURE__*/_jsx(\"p\",{children:this.state.ListDescription})]});}},{key:\"Header\",value:function Header(){return/*#__PURE__*/_jsxs(\"div\",{id:\"HeaderIndividualList\",children:[/*#__PURE__*/_jsx(\"h1\",{children:this.state.ListName+\"(\"+this.state.Category+\")\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"AddNewItem\",onClick:this.OpenClose,children:\" Add a new list item\"}),this.state.seen?/*#__PURE__*/_jsx(NewRankPopup,{addNewItem:this.addNewItem,OpenClose:this.OpenClose}):null,this.state.seen2?/*#__PURE__*/_jsx(EditRankPopup,{OpenClose:this.OpenClose2,Info:this.state.info,editItem:this.editItem}):null,this.state.seen3?/*#__PURE__*/_jsx(EditDescription,{editDescription:this.editDescription,OpenClose:this.OpenClose3,Description:this.state.ListDescription}):null,/*#__PURE__*/_jsx(\"span\",{className:\"EmptySpace\",children:\" \"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"DeleteWholeList\",onClick:this.deleteWholeList,children:\" Delete the whole list \"}),/*#__PURE__*/_jsx(\"span\",{className:\"EmptySpace\",children:\" \"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"EditDescription\",onClick:this.OpenClose3,children:\" Edit Description \"})]});}},{key:\"TableRow\",value:function TableRow(info){var _this2=this;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"strong\",{children:info.rank})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"strong\",{children:info.foodName})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"strong\",{children:info.notes})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"editIndividualList\",onClick:function onClick(){return _this2.changeEditingRank(info);},children:\" edit \"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"deleteIndividualList\",onClick:function onClick(){return _this2.removeFoodRank(info);},children:\" delete \"})})]},uid(info));}},{key:\"Table\",value:function Table(){var _this3=this;return/*#__PURE__*/_jsx(\"table\",{children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Rank\"}),/*#__PURE__*/_jsx(\"th\",{children:\"FoodName\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Notes\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Edit\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Delete\"})]}),this.state.FoodRank.map(function(info){return _this3.TableRow(info);})]})});}},{key:\"deleteFreeSticker\",value:function deleteFreeSticker(id){console.log(\"Deleteing\");var freeStickers=this.state.freeStickers;var filtered=freeStickers.filter(function(fs){return fs.id.toString()!==id;});console.log(filtered);this.setState({freeStickers:filtered});}},{key:\"freeSticker\",value:function freeSticker(fs){var id=fs.id;var stringID=id.toString();var source=fs.source;var x=fs.location[0];var y=fs.location[1];var left=x-25+'px';var top=y-25+'px';var sticker=document.createElement(\"IMG\");sticker.src=source;sticker.alt=\"iamge not found\";sticker.key=uid(fs);sticker.id=stringID;sticker.className='freeSticker';sticker.style.left=left;sticker.style.top=top;sticker.style.position=\"absolute\";return ReactHtmlParser(sticker.outerHTML);}},{key:\"FreeStickers\",value:function FreeStickers(){var _this4=this;var freeStickers=this.state.freeStickers;return/*#__PURE__*/_jsx(\"div\",{children:freeStickers.map(function(fs){return _this4.freeSticker(fs);})});}},{key:\"sticker\",value:function sticker(s){return/*#__PURE__*/_jsxs(\"div\",{className:\"stickerDiv\",children:[/*#__PURE__*/_jsx(\"img\",{src:this.state.stickers[s.id].source,alt:\"No image\",className:\"sticker\",onClick:this.selectImage}),/*#__PURE__*/_jsx(\"span\",{className:\"EmptySpace\",children:\" \"})]},uid(s));}},{key:\"StickerList\",value:function StickerList(){var _this5=this;return/*#__PURE__*/_jsx(\"div\",{className:\"stickerList\",children:this.state.stickers.map(function(s){return _this5.sticker(s);})});}},{key:\"StickerPanel\",value:function StickerPanel(){return/*#__PURE__*/_jsxs(\"div\",{className:\"StickerPanel\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\" Choose Your Stickers\"}),/*#__PURE__*/_jsx(\"p\",{children:\" Choose by clicking the image and the position that the sticker should go and deleting by clicking again\"}),this.StickerList(),/*#__PURE__*/_jsx(\"p\",{children:\"Stickers can only go to the header, List Description, item table and sticker panel\"})]});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{onClick:this.click,children:[/*#__PURE__*/_jsx(\"hr\",{}),this.Header(),/*#__PURE__*/_jsx(\"br\",{}),this.Table(),this.ListDescription(),this.StickerPanel(),this.FreeStickers()]});}}]);return IndividualList;}(React.Component);var NewRankPopup=/*#__PURE__*/function(_React$Component2){_inherits(NewRankPopup,_React$Component2);var _super2=_createSuper(NewRankPopup);function NewRankPopup(){var _this6;_classCallCheck(this,NewRankPopup);for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}_this6=_super2.call.apply(_super2,[this].concat(args));_this6.state={FoodName:\"\",Rank:\"\",Note:\"\"};_this6.handleChange=function(event){var target=event.target;var value=target.value;var name=target.name;_this6.setState(_defineProperty({},name,value));};return _this6;}_createClass(NewRankPopup,[{key:\"FoodNameForm\",value:function FoodNameForm(){return/*#__PURE__*/_jsx(\"form\",{className:\"FoodNameForm\",children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Food Name:  \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"FoodName\",value:this.state.FoodName,onChange:this.handleChange,className:\"FoodNameInputBox\"})]})});}},{key:\"RankForm\",value:function RankForm(){return/*#__PURE__*/_jsx(\"form\",{className:\"RankForm\",children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Rank:                      \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"Rank\",value:this.state.rank,className:\"RankInputBox\",onChange:this.handleChange})]})});}},{key:\"NoteForm\",value:function NoteForm(){return/*#__PURE__*/_jsx(\"form\",{className:\"NoteForm\",children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Note:  \"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"textarea\",{name:\"Note\",value:this.state.Note,className:\"NoteInputBox\",onChange:this.handleChange,rows:\"5\",cols:\"10\",wrap:\"soft\"})]})});}},{key:\"Header\",value:function Header(){return/*#__PURE__*/_jsx(\"div\",{className:\"PopUpWindowHeader\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Add a new Item to the list\"})});}},{key:\"render\",value:function render(){var _this7=this;return/*#__PURE__*/_jsxs(\"div\",{className:\"PopUpWindow\",children:[this.Header(),/*#__PURE__*/_jsx(\"br\",{}),this.FoodNameForm(),/*#__PURE__*/_jsx(\"br\",{}),this.RankForm(),/*#__PURE__*/_jsx(\"br\",{}),this.NoteForm(),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"ButtonArray\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){return _this7.props.addNewItem(_this7.state);},children:\"submit\"}),/*#__PURE__*/_jsx(\"span\",{className:\"EmptySpace\",children:\" \"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:this.props.OpenClose,children:\" Cancel \"})]})]});}}]);return NewRankPopup;}(React.Component);var EditRankPopup=/*#__PURE__*/function(_React$Component3){_inherits(EditRankPopup,_React$Component3);var _super3=_createSuper(EditRankPopup);function EditRankPopup(){var _this8;_classCallCheck(this,EditRankPopup);for(var _len3=arguments.length,args=new Array(_len3),_key3=0;_key3<_len3;_key3++){args[_key3]=arguments[_key3];}_this8=_super3.call.apply(_super3,[this].concat(args));_this8.state={FoodName:_this8.props.Info.FoodName,Notes:_this8.props.Info.Notes,Rank:_this8.props.Info.Rank};_this8.handleChange=function(event){var target=event.target;var value=target.value;var name=target.name;_this8.setState(_defineProperty({},name,value));};return _this8;}_createClass(EditRankPopup,[{key:\"Header\",value:function Header(){return/*#__PURE__*/_jsx(\"div\",{className:\"PopUpWindowHeader\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Edit this item\"})});}},{key:\"NoteForm\",value:function NoteForm(){return/*#__PURE__*/_jsx(\"form\",{className:\"NoteForm\",children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Note:  \"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"textarea\",{name:\"Notes\",value:this.state.Notes,className:\"NoteInputBox\",onChange:this.handleChange,rows:\"5\",cols:\"10\",wrap:\"soft\"})]})});}},{key:\"FoodNameForm\",value:function FoodNameForm(){return/*#__PURE__*/_jsx(\"form\",{className:\"FoodNameForm\",children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Food Name:  \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"FoodName\",value:this.state.FoodName,onChange:this.handleChange,className:\"FoodNameInputBox\"})]})});}},{key:\"render\",value:function render(){var _this9=this;return/*#__PURE__*/_jsxs(\"div\",{className:\"PopUpWindow\",children:[this.Header(),/*#__PURE__*/_jsx(\"br\",{}),this.FoodNameForm(),/*#__PURE__*/_jsx(\"br\",{}),this.NoteForm(),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"ButtonArray\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){return _this9.props.editItem(_this9.state);},children:\"submit\"}),/*#__PURE__*/_jsx(\"span\",{className:\"EmptySpace\",children:\" \"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:this.props.OpenClose,children:\" Cancel \"})]})]});}}]);return EditRankPopup;}(React.Component);var EditDescription=/*#__PURE__*/function(_React$Component4){_inherits(EditDescription,_React$Component4);var _super4=_createSuper(EditDescription);function EditDescription(){var _this10;_classCallCheck(this,EditDescription);for(var _len4=arguments.length,args=new Array(_len4),_key4=0;_key4<_len4;_key4++){args[_key4]=arguments[_key4];}_this10=_super4.call.apply(_super4,[this].concat(args));_this10.state={Description:_this10.props.Description};_this10.handleChange=function(event){var target=event.target;var value=target.value;var name=target.name;_this10.setState(_defineProperty({},name,value));};return _this10;}_createClass(EditDescription,[{key:\"Header\",value:function Header(){return/*#__PURE__*/_jsx(\"div\",{className:\"PopUpWindowHeader\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Edit List Description\"})});}},{key:\"DescriptionForm\",value:function DescriptionForm(){return/*#__PURE__*/_jsx(\"form\",{className:\"DescriptionForm\",children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"New description:  \"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"textarea\",{name:\"Description\",value:this.state.description,onChange:this.handleChange,className:\"DescriptionInputBox\",rows:\"5\",cols:\"10\",wrap:\"soft\",children:\" \"})]})});}},{key:\"render\",value:function render(){var _this11=this;return/*#__PURE__*/_jsxs(\"div\",{className:\"PopUpWindow\",children:[this.Header(),/*#__PURE__*/_jsx(\"br\",{}),this.DescriptionForm(),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"ButtonArray\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){return _this11.props.editDescription(_this11.state.Description);},children:\"submit\"}),/*#__PURE__*/_jsx(\"span\",{className:\"EmptySpace\",children:\" \"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:this.props.OpenClose,children:\" Cancel \"})]})]});}}]);return EditDescription;}(React.Component);export default IndividualList;","map":{"version":3,"sources":["/Users/valeriewirianto/University Stuff/309/Group/team50/client/src/IndividualList.js"],"names":["uid","watermelon","donut","pie","broccoli","React","ReactHtmlParser","add_item","get_all_items","IndividualList","state","ListName","Category","ListDescription","FoodRank","seen","seen2","seen3","info","stickers","id","source","freeStickers","selectedImage","removeFoodRank","Info","filterFoodRank","filter","check","map","R","index","Rank","setState","deleteWholeList","OpenClose","OpenClose2","OpenClose3","editItem","PopUpState","foodName","FoodName","notes","Notes","rank","editedItem","splice","addNewItem","console","log","listId","props","location","length","note","Note","newItem","old","editDescription","description","changeEditingRank","click","event","target","type","className","targetID","deleteFreeSticker","x","clientX","y","clientY","ID","freeSticker","existingFreeStickers","push","selectImage","preventDefault","src","TableRow","filtered","fs","toString","stringID","left","top","sticker","document","createElement","alt","key","style","position","outerHTML","s","StickerList","Header","Table","StickerPanel","FreeStickers","Component","NewRankPopup","handleChange","value","name","FoodNameForm","RankForm","NoteForm","EditRankPopup","EditDescription","Description","DescriptionForm"],"mappings":"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","sourcesContent":["import \"./IndividualFriendsUserSetting.css\";\nimport {uid} from 'react-uid';\n// import {Link} from \"react-router-dom\";\nimport watermelon from './Stickers/watermelon.png'\nimport donut from './Stickers/donut.png'\nimport pie from './Stickers/pie.png'\nimport broccoli from './Stickers/brocoli.png'\nimport React from \"react\";\nimport ReactHtmlParser from 'react-html-parser';\nimport { add_item, get_all_items } from \"./actions/myList\";\nclass IndividualList extends React.Component{\n\n    state = {\n        ListName: \"Home Grown Ingredients\",\n        Category: \"Ingredients\",\n        ListDescription: \"My favourite ingredients that I grow in my garden\",\n        FoodRank: [],\n        seen: false,\n        seen2: false,\n        seen3: false,\n        info: {},\n        stickers: [{id:0, source: watermelon}, {id: 1, source: donut}, {id:2, source: pie}, {id: 3, source: broccoli}],\n        freeStickers: [],\n        selectedImage : null\n    }\n\n    componentDidMount(props){\n        const { listId } = this.props.location.state\n        get_all_items (this, listId)\n    }\n\n    ListDescription(){\n        return(\n            <div id='ListDescription'>\n                <h2>List Description</h2>\n                <p>{this.state.ListDescription}</p>\n            </div>\n        )\n    }\n\n    removeFoodRank = (Info) => {\n        let filterFoodRank = this.state.FoodRank.filter(\n            (check) =>{\n                return check !== Info\n            }\n        )\n\n        filterFoodRank.map((R, index)=> R.Rank = index + 1)\n\n        this.setState(\n            {\n                FoodRank: filterFoodRank\n            }\n        )\n    }\n\n    deleteWholeList = ()=>{\n        this.setState({\n            FoodRank: []\n        })\n    }\n\n    OpenClose =()=>{\n        this.setState({\n            seen: !this.state.seen\n        })\n    }\n\n    OpenClose2 =()=>{\n        this.setState({\n            seen2: !this.state.seen2\n        })\n    }\n\n    OpenClose3 =()=>{\n        this.setState({\n            seen3: !this.state.seen3\n        })\n    }\n\n    editItem = (PopUpState)=>{\n        const foodName = PopUpState.FoodName\n        const notes = PopUpState.Notes\n        const rank = PopUpState.Rank\n\n        let filterFoodRank = this.state.FoodRank.filter(\n            (check) =>{\n                return check.Rank !== rank\n            }\n        )\n\n        const editedItem = {\n            Rank: rank,\n            FoodName: foodName,\n            Notes: notes\n        }\n\n        filterFoodRank.splice(rank - 1,0, editedItem)\n        filterFoodRank.map((R, index)=> R.Rank = index + 1)\n        this.setState(\n            {\n                FoodRank: filterFoodRank\n            }\n        )\n\n        this.OpenClose2()\n\n\n    }\n\n    addNewItem = (PopUpState)=>{\n        console.log(PopUpState)\n        const { listId } = this.props.location.state\n        add_item(this, PopUpState), listId\n        const foodName = PopUpState.FoodName\n        let rank = PopUpState.Rank\n        if (rank < 1){\n            rank = 1\n        }else if(rank > this.state.FoodRank.length + 1){\n            rank = this.state.FoodRank.length\n        }\n\n        const note = PopUpState.Note\n        const newItem = {\n            Rank: rank,\n            FoodName: foodName,\n            Notes: note\n        }\n        const old = this.state.FoodRank\n        old.splice(rank - 1,0, newItem)\n        old.map((R, index)=> R.Rank = index + 1)\n        this.setState(\n            {\n                FoodRank: old\n            }\n        )\n        this.OpenClose()\n    }\n\n    editDescription = (description) => {\n        this.setState(\n            {\n                ListDescription: description\n            }\n        )\n        this.OpenClose3()\n    }\n\n    Header(){\n        return(\n            <div id='HeaderIndividualList'>\n                <h1>{this.state.ListName + \"(\" + this.state.Category + \")\"}</h1>\n                <button type=\"button\" className='AddNewItem' onClick={this.OpenClose}> Add a new list item</button>\n                {this.state.seen ? <NewRankPopup addNewItem={this.addNewItem} OpenClose={this.OpenClose} /> : null}\n                {this.state.seen2 ? <EditRankPopup OpenClose={this.OpenClose2} Info= {this.state.info}\n                                                   editItem={this.editItem}\n                /> : null}\n                {this.state.seen3 ? <EditDescription editDescription={this.editDescription} OpenClose={this.OpenClose3}\n                                                     Description = {this.state.ListDescription}\n                /> : null}\n                <span className='EmptySpace'> </span>\n                <button type=\"button\" className='DeleteWholeList' onClick={this.deleteWholeList}> Delete the whole list </button>\n                <span className='EmptySpace'> </span>\n\n                <button type=\"button\" className='EditDescription' onClick={(this.OpenClose3)}> Edit Description </button>\n\n            </div>\n        )\n    }\n\n\n    changeEditingRank = (Info)=> {\n        this.setState(\n            {\n                info: Info\n            }\n        )\n        this.OpenClose2()\n    }\n\n    TableRow(info){\n        return(\n            <tr key={uid(info)}>\n                <td>\n                    <strong>{info.rank}</strong>\n                </td>\n                <td>\n                    <strong>{info.foodName}</strong>\n                </td>\n                <td>\n                    <strong>{info.notes}</strong>\n                </td>\n                <td>\n                    <button type=\"button\" className='editIndividualList'\n                            onClick={() => this.changeEditingRank(info)}\n                    > edit </button>\n                </td>\n                <td>\n                    <button type=\"button\" className='deleteIndividualList'\n                            onClick = {\n                                () => this.removeFoodRank(info)\n                            }\n                    > delete </button>\n                </td>\n            </tr>\n        )\n    }\n\n\n    Table(){\n        return(\n            <table>\n                <tbody>\n                <tr>\n                    <th>Rank</th>\n                    <th>FoodName</th>\n                    <th>Notes</th>\n                    <th>Edit</th>\n                    <th>Delete</th>\n                </tr>\n                {this.state.FoodRank.map(info => {return this.TableRow(info)})}\n                </tbody>\n            </table>\n        )\n    }\n\n\n\n\n    deleteFreeSticker(id){\n        console.log(\"Deleteing\")\n        const freeStickers = this.state.freeStickers\n        let filtered = freeStickers.filter(fs => fs.id.toString() !== id)\n        console.log(filtered)\n        this.setState({\n            freeStickers: filtered\n        })\n    }\n\n\n\n    click = (event)=>{\n        const target = event.target\n        const type = target.type\n        const className = target.className\n\n        if(className === 'freeSticker'){\n            const targetID = target.id\n            this.deleteFreeSticker(targetID)\n        }\n\n        if (type !== 'button' && this.state.selectedImage != null && className !== 'sticker'){\n            let x = event.clientX\n            let y = event.clientY\n            const length = this.state.freeStickers.length\n            let ID = 0\n            if (length !== 0){\n                ID = this.state.freeStickers[length - 1].id + 1\n            }\n            const freeSticker = {\n                id: ID,\n                location: [x, y],\n                source: this.state.selectedImage\n            }\n            let existingFreeStickers = this.state.freeStickers\n            existingFreeStickers.push(freeSticker)\n            this.setState({\n                freeStickers: existingFreeStickers,\n                selectedImage: null\n\n            })\n\n        }\n    }\n\n    freeSticker(fs) {\n        const id = fs.id\n        const stringID = id.toString()\n        const source = fs.source\n        const x = fs.location[0]\n        const y = fs.location[1]\n        let left = (x - 25)+ 'px';\n        let top = (y - 25) + 'px';\n        let sticker = document.createElement(\"IMG\");\n        sticker.src =source\n        sticker.alt = \"iamge not found\"\n        sticker.key = uid(fs)\n        sticker.id = stringID\n        sticker.className = 'freeSticker'\n        sticker.style.left = left\n        sticker.style.top = top\n        sticker.style.position = \"absolute\"\n\n        return (\n            ReactHtmlParser(sticker.outerHTML)\n        )\n\n    }\n\n    FreeStickers(){\n        const freeStickers = this.state.freeStickers\n        return(\n                <div>\n                    { freeStickers.map(fs => this.freeSticker(fs))}\n                </div>\n\n\n                )\n    }\n\n    selectImage= (event)=> {\n        event.preventDefault()\n        console.log(\"I am selecting a sticker\")\n        const target = event.target\n        const source = target.src\n        console.log(source)\n        this.setState({\n            selectedImage: source\n        })\n\n\n    }\n\n    sticker(s){\n\n        return(\n            <div className='stickerDiv' key={uid(s)}>\n                <img src={this.state.stickers[s.id].source } alt='No image'  className='sticker'\n                     onClick={this.selectImage}/>\n                <span className='EmptySpace'> </span>\n            </div>\n\n        )\n    }\n\n\n\n\n\n    StickerList(){\n        return(\n            <div className='stickerList'>\n                {this.state.stickers.map(s => this.sticker(s))}\n\n            </div>\n\n        )\n    }\n\n\n\n    StickerPanel(){\n        return(\n            <div className='StickerPanel'>\n                <h2> Choose Your Stickers</h2>\n                <p> Choose by clicking the image and the position that the sticker should go and deleting by clicking again</p>\n                {this.StickerList()}\n                <p>Stickers can only go to the header, List Description, item table and sticker panel</p>\n            </div>\n        )\n    }\n\n\n\n    render() {\n        return(\n            <div onClick={this.click}>\n                {/*<Link to={'/Main'}>*/}\n                {/*    <div><button className='back'>Back</button></div>*/}\n                {/*</Link>*/}\n                <hr/>\n                {this.Header()}\n                <br/>\n\n                {this.Table()}\n                {this.ListDescription()}\n                {this.StickerPanel()}\n                {this.FreeStickers()}\n\n            </div>\n        )\n    }\n}\n\nclass NewRankPopup extends React.Component{\n    state = {\n        FoodName: \"\",\n        Rank: \"\",\n        Note: \"\"\n    }\n\n    handleChange = (event) => {\n        const target = event.target\n        const value = target.value\n        const name = target.name\n\n        this.setState({\n            [name]: value\n        })\n    }\n\n    FoodNameForm(){\n        return(\n            <form className=\"FoodNameForm\">\n                <label>\n                    <strong>Food Name:  </strong>\n                    <input type=\"text\" name=\"FoodName\" value = {this.state.FoodName}\n                           onChange={this.handleChange} className=\"FoodNameInputBox\"\n                    />\n                </label>\n            </form>\n        )\n    }\n\n    RankForm(){\n        return(\n            <form className=\"RankForm\">\n                <label>\n                    <strong>{\"Rank:                      \"}</strong>\n                    <input type=\"text\" name=\"Rank\" value = {this.state.rank} className=\"RankInputBox\"\n                           onChange={this.handleChange}\n                    />\n                </label>\n            </form>\n        )\n    }\n    NoteForm(){\n        return(\n            <form className=\"NoteForm\">\n                <label>\n                    <strong>Note:  </strong>\n                    <br/>\n                    <textarea  name=\"Note\" value = {this.state.Note} className=\"NoteInputBox\"\n                               onChange={this.handleChange} rows=\"5\" cols=\"10\" wrap=\"soft\">\n                    </textarea>\n                </label>\n            </form>\n        )\n    }\n\n    Header(){\n        return(\n            <div className=\"PopUpWindowHeader\">\n                <h2>Add a new Item to the list</h2>\n            </div>\n\n        )\n    }\n\n\n\n    render(){\n        return(\n            <div className=\"PopUpWindow\">\n                {this.Header()}\n                <br />\n                {this.FoodNameForm()}\n                <br />\n                {this.RankForm()}\n                <br />\n                {this.NoteForm()}\n                <br />\n                <div className=\"ButtonArray\">\n                    <button type=\"button\" onClick={()=>this.props.addNewItem(this.state)}>submit</button>\n                    <span className='EmptySpace'> </span>\n                    <button type=\"button\" onClick={this.props.OpenClose}> Cancel </button>\n                </div>\n\n            </div>\n    )\n    }\n}\n\nclass EditRankPopup extends React.Component{\n    state = {\n        FoodName: this.props.Info.FoodName,\n        Notes: this.props.Info.Notes,\n        Rank: this.props.Info.Rank\n    }\n    handleChange = (event) => {\n        const target = event.target\n        const value = target.value\n        const name = target.name\n\n        this.setState({\n            [name]: value\n        })\n    }\n\n    Header(){\n        return(\n            <div className=\"PopUpWindowHeader\">\n                <h2>Edit this item</h2>\n            </div>\n\n        )\n    }\n\n    NoteForm(){\n        return(\n            <form className=\"NoteForm\">\n                <label>\n                    <strong>Note:  </strong>\n                    <br/>\n                    <textarea name=\"Notes\" value = {this.state.Notes} className=\"NoteInputBox\"\n                                          onChange={this.handleChange} rows=\"5\" cols=\"10\" wrap=\"soft\">\n                    </textarea>\n                </label>\n            </form>\n        )\n    }\n\n    FoodNameForm(){\n        return(\n            <form className=\"FoodNameForm\">\n                <label>\n                    <strong>Food Name:  </strong>\n                    <input type=\"text\" name=\"FoodName\" value = {this.state.FoodName}\n                           onChange={this.handleChange} className=\"FoodNameInputBox\"\n                    />\n                </label>\n            </form>\n        )\n    }\n\n    render(){\n        return(\n            <div className=\"PopUpWindow\">\n                {this.Header()}\n                <br />\n                {this.FoodNameForm()}\n                <br />\n                {this.NoteForm()}\n                <br />\n                <div className=\"ButtonArray\">\n                    <button type=\"button\" onClick={()=>this.props.editItem(this.state)}>submit</button>\n                    <span className='EmptySpace'> </span>\n                    <button type=\"button\" onClick={this.props.OpenClose}> Cancel </button>\n                </div>\n            </div>\n        )\n    }\n}\n\nclass EditDescription extends React.Component{\n    state = {\n        Description: this.props.Description\n    }\n\n    handleChange = (event) => {\n        const target = event.target\n        const value = target.value\n        const name = target.name\n\n        this.setState({\n            [name]: value\n        })\n    }\n\n    Header(){\n        return(\n            <div className=\"PopUpWindowHeader\">\n                <h2>Edit List Description</h2>\n            </div>\n        )\n    }\n\n    DescriptionForm(){\n        return(\n            <form className=\"DescriptionForm\">\n                <label>\n                    <strong>New description:  </strong>\n                    <br/>\n                    <br/>\n                    <textarea name=\"Description\" value = {this.state.description}\n                              onChange={this.handleChange} className=\"DescriptionInputBox\" rows=\"5\" cols=\"10\" wrap=\"soft\"> </textarea>\n                </label>\n            </form>\n        )\n    }\n\n    render() {\n        return(\n            <div className=\"PopUpWindow\">\n                {this.Header()}\n                <br />\n                {this.DescriptionForm()}\n                <br />\n                <div className=\"ButtonArray\">\n                    <button type=\"button\" onClick={()=>this.props.editDescription(this.state.Description)}>submit</button>\n                    <span className='EmptySpace'> </span>\n                    <button type=\"button\" onClick={this.props.OpenClose}> Cancel </button>\n                </div>\n            </div>\n        )\n    }\n\n}\n\n\nexport default IndividualList;"]},"metadata":{},"sourceType":"module"}