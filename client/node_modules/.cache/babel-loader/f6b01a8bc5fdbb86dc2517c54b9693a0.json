{"ast":null,"code":"import ENV from './../config.js';\nconst API_HOST = ENV.api_host; // Get all list ids and names of currently logged in user\n\nexport const get_popular = (app, category) => {\n  const url = `${API_HOST}/get_most_popular/` + category;\n  fetch(url).then(res => {\n    if (res.status === 200) {\n      return res.json();\n    }\n  }).then(json => {\n    let labelArray = [];\n    let dataArray = [];\n\n    for (let key in json) {\n      labelArray.push(key);\n      dataArray.push(json[key]);\n    }\n\n    if (category === \"dishes\") {\n      app.setState({\n        dish: {\n          labels: labelArray,\n          datasets: [{\n            backgroundColor: 'rgba(75,192,192,1)',\n            borderColor: 'rgba(0,0,0,1)',\n            borderWidth: 2,\n            data: dataArray\n          }]\n        }\n      });\n    } else if (category === \"beverages\") {\n      app.setState({\n        beverage: {\n          labels: labelArray,\n          datasets: [{\n            backgroundColor: 'rgba(75,192,192,1)',\n            borderColor: 'rgba(0,0,0,1)',\n            borderWidth: 2,\n            data: dataArray\n          }]\n        }\n      });\n    } else if (category === \"ingredients\") {\n      app.setState({\n        ingredient: {\n          labels: labelArray,\n          datasets: [{\n            backgroundColor: 'rgba(75,192,192,1)',\n            borderColor: 'rgba(0,0,0,1)',\n            borderWidth: 2,\n            data: dataArray\n          }]\n        }\n      });\n    }\n  }).catch(error => {\n    console.log(error);\n  });\n};","map":{"version":3,"sources":["/Users/valeriewirianto/University Stuff/309/Group/team50/client/src/actions/popular.js"],"names":["ENV","API_HOST","api_host","get_popular","app","category","url","fetch","then","res","status","json","labelArray","dataArray","key","push","setState","dish","labels","datasets","backgroundColor","borderColor","borderWidth","data","beverage","ingredient","catch","error","console","log"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,gBAAhB;AACA,MAAMC,QAAQ,GAAGD,GAAG,CAACE,QAArB,C,CAEA;;AACA,OAAO,MAAMC,WAAW,GAAE,CAACC,GAAD,EAAMC,QAAN,KAAmB;AACzC,QAAMC,GAAG,GAAI,GAAEL,QAAS,oBAAZ,GAAkCI,QAA9C;AACAE,EAAAA,KAAK,CAACD,GAAD,CAAL,CACKE,IADL,CACUC,GAAG,IAAI;AACT,QAAIA,GAAG,CAACC,MAAJ,KAAe,GAAnB,EAAwB;AACpB,aAAOD,GAAG,CAACE,IAAJ,EAAP;AACH;AACJ,GALL,EAMKH,IANL,CAMUG,IAAI,IAAG;AACT,QAAIC,UAAU,GAAG,EAAjB;AACA,QAAIC,SAAS,GAAG,EAAhB;;AAEA,SAAI,IAAIC,GAAR,IAAeH,IAAf,EAAoB;AAChBC,MAAAA,UAAU,CAACG,IAAX,CAAgBD,GAAhB;AACAD,MAAAA,SAAS,CAACE,IAAV,CAAeJ,IAAI,CAACG,GAAD,CAAnB;AACH;;AACD,QAAGT,QAAQ,KAAK,QAAhB,EAAyB;AACrBD,MAAAA,GAAG,CAACY,QAAJ,CAAa;AACTC,QAAAA,IAAI,EAAC;AACDC,UAAAA,MAAM,EAAEN,UADP;AAEDO,UAAAA,QAAQ,EAAE,CACV;AACEC,YAAAA,eAAe,EAAE,oBADnB;AAEEC,YAAAA,WAAW,EAAE,eAFf;AAGEC,YAAAA,WAAW,EAAE,CAHf;AAIEC,YAAAA,IAAI,EAAEV;AAJR,WADU;AAFT;AADI,OAAb;AAaH,KAdD,MAeK,IAAGR,QAAQ,KAAK,WAAhB,EAA4B;AAC7BD,MAAAA,GAAG,CAACY,QAAJ,CAAa;AACTQ,QAAAA,QAAQ,EAAC;AACLN,UAAAA,MAAM,EAAEN,UADH;AAELO,UAAAA,QAAQ,EAAE,CACV;AACEC,YAAAA,eAAe,EAAE,oBADnB;AAEEC,YAAAA,WAAW,EAAE,eAFf;AAGEC,YAAAA,WAAW,EAAE,CAHf;AAIEC,YAAAA,IAAI,EAAEV;AAJR,WADU;AAFL;AADA,OAAb;AAaH,KAdI,MAeA,IAAGR,QAAQ,KAAK,aAAhB,EAA8B;AAC/BD,MAAAA,GAAG,CAACY,QAAJ,CAAa;AACTS,QAAAA,UAAU,EAAC;AACPP,UAAAA,MAAM,EAAEN,UADD;AAEPO,UAAAA,QAAQ,EAAE,CACV;AACEC,YAAAA,eAAe,EAAE,oBADnB;AAEEC,YAAAA,WAAW,EAAE,eAFf;AAGEC,YAAAA,WAAW,EAAE,CAHf;AAIEC,YAAAA,IAAI,EAAEV;AAJR,WADU;AAFH;AADF,OAAb;AAaH;AACJ,GA3DL,EA4DKa,KA5DL,CA4DWC,KAAK,IAAI;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,GA9DL;AA+DH,CAjEM","sourcesContent":["import ENV from './../config.js'\nconst API_HOST = ENV.api_host\n\n// Get all list ids and names of currently logged in user\nexport const get_popular= (app, category) => {\n    const url = `${API_HOST}/get_most_popular/` + category;\n    fetch(url)\n        .then(res => {\n            if (res.status === 200) {\n                return res.json()\n            }\n        })\n        .then(json =>{\n            let labelArray = []\n            let dataArray = []\n\n            for(let key in json){ \n                labelArray.push(key)\n                dataArray.push(json[key])\n            }\n            if(category === \"dishes\"){\n                app.setState({ \n                    dish:{\n                        labels: labelArray,\n                        datasets: [\n                        {\n                          backgroundColor: 'rgba(75,192,192,1)',\n                          borderColor: 'rgba(0,0,0,1)',\n                          borderWidth: 2,\n                          data: dataArray\n                        }\n                        ]\n                    }\n                })\n            }\n            else if(category === \"beverages\"){\n                app.setState({ \n                    beverage:{\n                        labels: labelArray,\n                        datasets: [\n                        {\n                          backgroundColor: 'rgba(75,192,192,1)',\n                          borderColor: 'rgba(0,0,0,1)',\n                          borderWidth: 2,\n                          data: dataArray\n                        }\n                        ]\n                    }\n                })\n            }\n            else if(category === \"ingredients\"){\n                app.setState({ \n                    ingredient:{\n                        labels: labelArray,\n                        datasets: [\n                        {\n                          backgroundColor: 'rgba(75,192,192,1)',\n                          borderColor: 'rgba(0,0,0,1)',\n                          borderWidth: 2,\n                          data: dataArray\n                        }\n                        ]\n                    }\n                })\n            }\n        })\n        .catch(error => {\n            console.log(error);\n        });\n};"]},"metadata":{},"sourceType":"module"}